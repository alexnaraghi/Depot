---
phase: 27-application-rename
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src-tauri/Cargo.toml
  - src-tauri/src/main.rs
  - src-tauri/tauri.conf.json
  - package.json
  - index.html
autonomous: true

must_haves:
  truths:
    - "Package configurations show 'depot' or 'Depot' as application name"
    - "Bundle identifier is 'com.depot.app' (permanent)"
    - "Version is 0.1.0 across all config files"
  artifacts:
    - path: "src-tauri/Cargo.toml"
      provides: "Rust package name and lib name"
      contains: 'name = "depot"'
    - path: "src-tauri/tauri.conf.json"
      provides: "Tauri product name, identifier, window title"
      contains: '"productName": "Depot"'
    - path: "package.json"
      provides: "NPM package name"
      contains: '"name": "depot"'
    - path: "index.html"
      provides: "Browser title"
      contains: "<title>Depot</title>"
  key_links:
    - from: "src-tauri/src/main.rs"
      to: "src-tauri/Cargo.toml"
      via: "lib name reference"
      pattern: "depot_lib::run"
---

<objective>
Rename core application configuration from "p4now" to "Depot" across all primary config files.

Purpose: Establish the new brand identity in all package manifests and Tauri configuration before building
Output: All core config files updated with "Depot" branding, ready for dependent plans
</objective>

<execution_context>
@C:\Users\a\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\a\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/27-application-rename/27-CONTEXT.md
@.planning/phases/27-application-rename/27-RESEARCH.md

Key files:
@src-tauri/Cargo.toml
@src-tauri/tauri.conf.json
@src-tauri/src/main.rs
@package.json
@index.html
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Rust configuration (Cargo.toml and main.rs)</name>
  <files>src-tauri/Cargo.toml, src-tauri/src/main.rs</files>
  <action>
    In src-tauri/Cargo.toml:
    - Change `name = "p4now"` to `name = "depot"`
    - Change `name = "p4now_lib"` under [lib] to `name = "depot_lib"`
    - Keep version as "0.1.0" (already correct)

    In src-tauri/src/main.rs:
    - Change `p4now_lib::run()` to `depot_lib::run()`

    After editing, run `cargo check` in src-tauri directory to verify Rust compiles.
  </action>
  <verify>Run `cd src-tauri && cargo check` - should complete without errors</verify>
  <done>Cargo.toml shows name="depot" and lib name="depot_lib", main.rs calls depot_lib::run(), cargo check passes</done>
</task>

<task type="auto">
  <name>Task 2: Update Tauri configuration</name>
  <files>src-tauri/tauri.conf.json</files>
  <action>
    In src-tauri/tauri.conf.json:
    - Change `"productName": "p4now"` to `"productName": "Depot"`
    - Change `"identifier": "com.a.p4now"` to `"identifier": "com.depot.app"` (PERMANENT - this is the bundle identifier)
    - Change `"title": "p4now"` under windows to `"title": "Depot"`
    - Keep version as "0.1.0" (already correct)

    CRITICAL: The identifier "com.depot.app" is permanent. Changing it after public release breaks user installations.
  </action>
  <verify>Read src-tauri/tauri.conf.json and confirm productName is "Depot", identifier is "com.depot.app", window title is "Depot"</verify>
  <done>tauri.conf.json shows productName="Depot", identifier="com.depot.app", window title="Depot", version="0.1.0"</done>
</task>

<task type="auto">
  <name>Task 3: Update frontend configuration (package.json and index.html)</name>
  <files>package.json, index.html</files>
  <action>
    In package.json:
    - Change `"name": "p4now"` to `"name": "depot"`
    - Keep version as "0.1.0" (already correct)

    In index.html:
    - Change `<title>Tauri + React + Typescript</title>` to `<title>Depot</title>`
  </action>
  <verify>
    - Run `grep -i "name" package.json | head -1` to confirm name is "depot"
    - Run `grep "<title>" index.html` to confirm title is "Depot"
  </verify>
  <done>package.json shows name="depot", index.html shows title="Depot"</done>
</task>

</tasks>

<verification>
1. `grep "depot" src-tauri/Cargo.toml` shows package name and lib name
2. `grep "depot_lib" src-tauri/src/main.rs` shows correct lib reference
3. `grep -i "depot" src-tauri/tauri.conf.json` shows productName, identifier, and title
4. `grep '"name"' package.json | head -1` shows "depot"
5. `grep "<title>" index.html` shows "Depot"
6. `cd src-tauri && cargo check` completes without errors
</verification>

<success_criteria>
- All 5 core config files updated with "Depot" branding
- Rust compilation succeeds with new lib name
- Bundle identifier is exactly "com.depot.app"
- Version is "0.1.0" across all files
</success_criteria>

<output>
After completion, create `.planning/phases/27-application-rename/27-01-SUMMARY.md`
</output>
